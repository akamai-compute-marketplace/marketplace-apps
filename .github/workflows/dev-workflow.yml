---
name: Development Workflow
on:
  workflow_dispatch:
jobs:
  static-code-analysis-shellcheck:
    name: Static code analysis - shellcheck
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Run ShellCheck
        run: |
          sudo apt-get update
          sudo apt-get install -y shellcheck
          find . -type f -name "*.sh" -print0 | xargs -0 shellcheck --severity=error
          echo "✅ ShellCheck passed: no error-level issues found."
  static-code-analysis-yamllint:
    name: Static code analysis - yamllint
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Run yamllint
        run: |
          pip install yamllint
          yamllint -c tests/static_code_analysis/yaml_configs/.yamllint.yml .
          echo "✅ yamllint passed: no errors found."
  static-code-analysis-ansible-lint:
    name: Static code analysis - ansible-lint
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Run ansible-lint
        run: |
          pip install ansible-lint
          ansible-lint -c tests/static_code_analysis/ansible_playbooks/.ansible-lint.yaml
          echo "✅ ansible-lint passed: no errors found."
