---
name: Development Workflow
on:
  workflow_dispatch:
jobs:
  static-code-analysis:
    name: Static code analysis
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository
        uses: actions/checkout@v4
      - name: Run ShellCheck
        run: |
          sudo apt-get update
          sudo apt-get install -y shellcheck
          find . -type f -name "*.sh" -print0 | xargs -0 shellcheck --severity=error
          echo "✅ ShellCheck passed: no error-level issues found."
      - name: Run yamllint
        if: always()
        run: |
          sudo apt-get update
          sudo apt-get install -y yamllint
          yamllint -c tests/static_code_analysis/yaml_configs/.yamllint.yml .
          echo "✅ yamllint passed: no errors found."
