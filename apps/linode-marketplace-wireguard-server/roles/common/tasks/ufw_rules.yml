---
- name: Configure UFW rules
  ufw:
    rule: allow
    port: "{{ item }}"
    proto: tcp
  loop:
    - "22"
    - "80"
    - "443"

- name: Configure WireGuard rule
  ufw:
    rule: allow
    port: "{{ wireguard_listen_port }}"
    proto: udp

- name: Enable UFW
  ufw:
    state: enabled
    policy: deny 