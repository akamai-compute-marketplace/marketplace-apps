# Linode Jaeger One-Click App

Deploy a production-ready Jaeger All-in-One distributed tracing system with built-in security and optimized performance. This setup uses the official Jaeger All-in-One Docker container that combines the UI, collector, query service, and agent with in-memory storage in a single process, making it ideal for development, testing, and small-scale production environments. The deployment includes Docker for containerized deployment and NGINX reverse proxy with SSL termination and HTTP basic authentication for secure access.

## Software Included

| Software   | Version   | Description                |
| :---       | :----     | :---                      |
| Jaeger     | Latest    | Distributed tracing platform |
| Docker     | Latest    | Container runtime |
| NGINX      | Latest    | Web server and reverse proxy |

**Supported Distributions:**
- Ubuntu 24.04 LTS

## Linode Helpers Included

| Name  | Action  |
| :---  | :---    |
| Hostname   | The Hostname module uses `dnsdomainname -A` to detect the Linode's FQDN and write to the `/etc/hosts` file. This defaults to the Linode's automatically assigned rDNS. To use a custom FQDN see [Configure your Linode for Reverse DNS](https://www.linode.com/docs/guides/configure-your-linode-for-reverse-dns/).  |
| Update Packages   | The Update Packages module performs apt update and upgrade actions as root.  |
| UFW   | The UFW module will utilize a list generated by `linode_helpers/ufw/ufwgen.yml` in the `group_vars/linode/vars` and enables the service.  |
| Fail2Ban   | The Fail2Ban module installs, activates and enables the Fail2Ban service.  |
| Create DNS Record | The Create DNS Record module creates DNS records for domains and subdomains using the Linode API, including validation of DNS propagation. |
| Secure SSH | The Secure SSH module configures SSH security settings including disabling root login and password authentication when appropriate. |
| SSH Key | The SSH Key module manages SSH key deployment for the sudo user, supporting both custom public keys and account keys. |
| Certbot SSL | The Certbot SSL module handles SSL/TLS certificate installation via Let's Encrypt, supporting Nginx certificate issuance. |
| Docker | The Docker module installs Docker CE and Docker Compose for container management. |

## Use our API

Customers can choose to deploy Jaeger through the Linode Marketplace or directly using API. Before using the commands below, you will need to create an [API token](https://www.linode.com/docs/products/tools/linode-api/get-started/#create-an-api-token) or configure [linode-cli](https://www.linode.com/products/cli/) on an environment.

### cURL

```bash
curl -H "Content-Type: application/json" \
    -H "Authorization: Bearer $TOKEN" \
    -X POST -d '{
        "region": "us-east",
        "type": "g6-standard-2",
        "stackscript_id": [STACKSCRIPT_ID],
        "stackscript_data": {
            "user_name": "example_user",
            "disable_root": "Yes",
            "domain": "example.com",
            "token_password": "$TOKEN",
            "subdomain": "www",
            "soa_email_address": "user@example.com"
        },
        "root_pass": "$ROOT_PASSWORD",
        "image": "linode/ubuntu24.04",
        "region": "us-east"
    }' \
https://api.linode.com/v4/linode/instances
```

### Linode CLI

```bash
linode-cli linodes create \
  --region us-east \
  --type g6-standard-2 \
  --stackscript_id [STACKSCRIPT_ID] \
  --stackscript_data '{"user_name":"example_user","disable_root":"Yes","domain":"example.com","token_password":"$TOKEN","subdomain":"www","soa_email_address":"user@example.com"}' \
  --root_pass $ROOT_PASSWORD \
  --image linode/ubuntu24.04
```

## Resources

- [Jaeger Official Documentation](https://www.jaegertracing.io/docs/)
- [Marketplace App Documentation](https://www.linode.com/docs/marketplace-docs/guides/jaeger/)