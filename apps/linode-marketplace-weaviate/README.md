# Linode Weaviate One-Click App

Deploy a production-ready Weaviate vector database with GPU acceleration on Akamai Connected Cloud (Linode). This One-Click App provides a fully configured Weaviate instance with NVIDIA GPU support for high-performance vector similarity search and AI-powered semantic search capabilities.

## Software Included

| Software   | Version   | Description                |
| :---       | :----     | :---                      |
| Weaviate   | Latest    | AI-native vector database with GPU-accelerated transformer models |
| Text2Vec Transformers | sentence-transformers-multi-qa-MiniLM-L6-cos-v1 | GPU-accelerated embedding model for semantic search |
| Docker     | Latest    | Container runtime |
| Docker Compose | V2 | Container orchestration |
| NVIDIA Drivers | Latest (580-open) | GPU drivers for CUDA support |
| NVIDIA Container Toolkit | Latest | Docker GPU integration |
| NGINX | Latest | Reverse proxy with SSL/TLS |

**Supported Distributions:**
- Ubuntu 24.04 LTS

Need note about GPU

## Linode Helpers Included

| Name  | Action  |
| :---  | :---    |

Is it using hostname?

| Hostname   | The Hostname module uses `dnsdomainname -A` to detect the Linode's FQDN and write to the `/etc/hosts` file. This defaults to the Linode's automatically assigned rDNS. To use a custom FQDN see [Configure your Linode for Reverse DNS](https://www.linode.com/docs/guides/configure-your-linode-for-reverse-DNS/).  |
| Update Packages   | The Update Packages module performs apt update and upgrade actions as root.  |
| UFW   | The UFW module will utilize a list generated by `linode_helpers/ufw/ufwgen.yml` in the `group_vars/linode/vars` and enables the service.  |
| Fail2Ban   | The Fail2Ban module installs, activates and enables the Fail2Ban service.  |
| Create DNS Record | The Create DNS Record module creates DNS records for domains and subdomains using the Linode API, including validation of DNS propagation. |
| Secure SSH | The Secure SSH module configures SSH security settings including disabling root login and password authentication when appropriate. |
| SSH Key | The SSH Key module manages SSH key deployment for the sudo user, supporting both custom public keys and account keys. |
| Certbot SSL | The Certbot SSL module handles SSL/TLS certificate installation via Let's Encrypt, supporting Nginx certificate issuance. |
| Docker | The Docker module installs Docker CE and Docker Compose for container management. |

## Getting Started

After deployment, your credentials and API keys are stored in `/home/[username]/.credentials`.

## Use our API

Customers can choose to deploy Weaviate through the Linode Marketplace or directly using API. Before using the commands below, you will need to create an [API token](https://www.linode.com/docs/products/tools/linode-api/get-started/#create-an-api-token) or configure [linode-cli](https://www.linode.com/products/cli/) on an environment.

**Note**: Use a GPU-enabled instance type (e.g., `g1-gpu-rtx6000-1`, `g1-gpu-rtx4000ada-1`).

### cURL

```bash
curl -H "Content-Type: application/json" \
    -H "Authorization: Bearer $TOKEN" \
    -X POST -d '{
        "region": "us-east",
        "type": "g1-gpu-rtx4000ada-1",
        "stackscript_id": [STACKSCRIPT_ID],
        "stackscript_data": {
            "user_name": "example_user",
            "disable_root": "Yes",
            "domain": "example.com",
            "token_password": "$TOKEN",
            "subdomain": "www",
            "soa_email_address": "user@example.com"
        },
        "root_pass": "$ROOT_PASSWORD",
        "image": "linode/ubuntu24.04"
    }' \
https://api.linode.com/v4/linode/instances
```

### Linode CLI

```bash
linode-cli linodes create \
  --region us-east \
  --type g1-gpu-rtx4000ada-1 \
  --stackscript_id [STACKSCRIPT_ID] \
  --stackscript_data '{"user_name":"example_user","disable_root":"Yes","domain":"example.com","token_password":"$TOKEN","subdomain":"www","soa_email_address":"user@example.com"}' \
  --root_pass $ROOT_PASSWORD \
  --image linode/ubuntu24.04
```

## Resources

- [Weaviate Official Documentation](https://docs.weaviate.io/)
- [Weaviate Python Client](https://docs.weaviate.io/weaviate/client-libraries/python)
- [Available Transformer Models](https://docs.weaviate.io/weaviate/model-providers/transformers/embeddings)
- [Marketplace App Documentation](https://www.linode.com/docs/marketplace-docs/guides/weaviate/)
