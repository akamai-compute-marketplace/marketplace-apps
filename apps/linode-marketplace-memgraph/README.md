# Linode Memgraph Deployment One-Click APP

Memgraph is a high-performance, in-memory graph database designed for real-time analytics and streaming data. It uses the Cypher query language (like Neo4j) and supports powerful graph algorithms out of the box. With built-in support for streaming data (via Kafka, Pulsar, and more), Memgraph makes it easy to build apps that respond instantly to changes in complex, connected data â€” from fraud detection to recommendation engines and network analysis. Memgraph is developer-friendly, integrates easily with Python, and offers a CLI via mgconsole which allows you to explore your data.

**Supported Distributions:**

- Ubuntu 24.04 LTS

## Linode Helpers Included

| Name  | Action  |
| :---  | :---    |
| Hostname   | The Hostname module uses `dnsdomainname -A` to detect the Linode's FQDN and write to the `/etc/hosts` file. This defaults to the Linode's automatically assigned rDNS. To use a custom FQDN see [Configure your Linode for Reverse DNS](https://www.linode.com/docs/guides/configure-your-linode-for-reverse-dns/).  |
| Update Packages   | The Update Packages module performs apt update and upgrade actions as root.  |
| UFW   | The UFW module will utilize a list generated by `linode_helpers/ufw/ufwgen.yml` in the `group_vars/linode/vars` and enables the service.  |
| Fail2Ban   | The Fail2Ban module installs, activates and enables the Fail2Ban service.  |

## Use our API

Customers can choose to the deploy the Memgraph database through the Linode Marketplace or directly using API. Before using the commands below, you will need to create an [API token](https://www.linode.com/docs/products/tools/linode-api/get-started/#create-an-api-token) or configure [linode-cli](https://www.linode.com/products/cli/) on an environment.

Make sure that the following values are updated at the top of the code block before running the commands:
- TOKEN
- ROOT_PASS
- MEMGRAPH_BOLT_ALLOW
- MEMGRAPH_USERNAME

SHELL:
```
export TOKEN="YOUR API TOKEN"
export ROOT_PASS="aComplexP@ssword"
export MEMGRAPH_BOLT_ALLOW=''
export MEMGRAPH_USERNAME='memgraph'

curl -H "Content-Type: application/json" \
-H "Authorization: Bearer $TOKEN" \
-X POST -d '{
    "image": "linode/ubuntu24.04",
    "private_ip": true,
    "region": "us-southeast",
    "stackscript_data": {
        "user_name": "admin",
        "disable_root": "No",
        "token_password": "${TOKEN}",
        "subdomain": "",
        "domain": "",
        "memgraph_bolt_allow": "${MEMGRAPH_BOLT_ALLOW}",
        "memgraph_username": "${MEMGRAPH_USERNAME}"
    },
    "stackscript_id": 0000000,
    "type": "g6-dedicated-2",
    "label": "memgraph-example",
    "root_pass": "${ROOT_PASS}",
    "authorized_users": [
        "myuser"
    ],
    "disk_encryption": "disabled"
}' https://api.linode.com/v4/linode/instances
```

CLI:
```
export TOKEN="YOUR API TOKEN"
export ROOT_PASS="aComplexP@ssword"
export MEMGRAPH_BOLT_ALLOW=''
export MEMGRAPH_USERNAME='memgraph'

linode-cli linodes create \
  --image 'linode/ubuntu24.04' \
  --private_ip true \
  --region us-southeast \
  --stackscript_data '{"user_name": "admin","disable_root":"No","token_password":"${TOKEN}","subdomain":"","domain":"","memgraph_bolt_allow":"${MEMGRAPH_BOLT_ALLOW}","memgraph_username":"${MEMGRAPH_USERNAME}"}' \
  --stackscript_id 0000000 \
  --type g6-dedicated-2 \
  --label memgraph-example \
  --root_pass ${ROOT_PASS} \
  --authorized_users myuser \
  --disk_encryption disabled
```

## Resources

- [Create Linode via API](https://www.linode.com/docs/api/linode-instances/#linode-create)
- [Stackscript referece](https://www.linode.com/docs/guides/writing-scripts-for-use-with-linode-stackscripts-a-tutorial/#user-defined-fields-udfs)
- [Memgraph getting started](https://memgraph.com/docs/getting-started)