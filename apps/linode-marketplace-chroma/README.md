# Linode Chroma Vector DB One-Click App

Deploy a production-ready Chroma Vector Database as a server in a single-node Client/Server architecture. This One-Click App sets up a secure, persistent Chroma server intended to be the central storage and search engine for your AI applications (client).

This deployment uses Chroma's `HttpClient` model (Client/Server). The server handles vector storage (SQLite) and Approximate Nearest Neighbor (ANN) search. These operations are heavily optimized for CPU and RAM. Therefore, GPU acceleration is not required for the core database server, making standard CPU instances the most cost-effective choice. See [Single-Node Chroma: Performance and Limitations](https://docs.trychroma.com/guides/deploy/performance) for more information.

## Software Included

| Software | Version | Description |
| :--- | :--- | :--- |
| Chroma | Latest | open-source vector database. |
| Docker | Latest | Container runtime. |
| NGINX | Latest | Reverse proxy handling SSL termination. |

**Supported Distributions:**
- Ubuntu 24.04 LTS

## Linode Helpers Included

| Name  | Action  |
| :---  | :---    |
| Hostname   | The Hostname module uses `dnsdomainname -A` to detect the Linode's FQDN and write to the `/etc/hosts` file. This defaults to the Linode's automatically assigned rDNS. To use a custom FQDN see [Configure your Linode for Reverse DNS](https://www.linode.com/docs/guides/configure-your-linode-for-reverse-dns/).  |
| Update Packages   | The Update Packages module performs apt update and upgrade actions as root.  |
| UFW   | The UFW module will utilize a list generated by `linode_helpers/ufw/ufwgen.yml` in the `group_vars/linode/vars` and enables the service.  |
| Fail2Ban   | The Fail2Ban module installs, activates and enables the Fail2Ban service.  |
| Create DNS Record | The Create DNS Record module creates DNS records for domains and subdomains using the Linode API, including validation of DNS propagation. |
| Secure SSH | The Secure SSH module configures SSH security settings including disabling root login and password authentication when appropriate. |
| SSH Key | The SSH Key module manages SSH key deployment for the sudo user, supporting both custom public keys and account keys. |
| Certbot SSL | The Certbot SSL module handles SSL/TLS certificate installation via Let's Encrypt, supporting Nginx certificate issuance. |
| Docker | The Docker module installs Docker CE and Docker Compose for container management. |

## Use our API

Customers can choose to deploy Chroma through the Linode Marketplace or directly using API. Before using the commands below, you will need to create an [API token](https://www.linode.com/docs/products/tools/linode-api/get-started/#create-an-api-token) or configure [linode-cli](https://www.linode.com/products/cli/) on an environment.

Make sure that the following values are updated at the top of the code block before running the commands:
- `TOKEN` (Your Linode API Token)
- `ROOT_PASS` (Secure password for the root user)

### cURL

```bash
curl -H "Content-Type: application/json" \
-H "Authorization: Bearer $TOKEN" \
-X POST -d '{
    "image": "linode/ubuntu24.04",
    "private_ip": true,
    "region": "us-east",
    "stackscript_data": {
        "user_name": "admin",
        "disable_root": "Yes",
        "token_password": "$TOKEN",
        "subdomain": "www",
        "domain": "example.com",
        "soa_email_address": "admin@example.com",
        "add_ons": "none"
    },
    "stackscript_id": [STACKSCRIPT_ID],
    "type": "g6-dedicated-2",
    "label": "chroma-vector-db",
    "tags": [
        "chromadb"
    ],
    "root_pass": "$ROOT_PASSWORD",
    "authorized_users": [
        "your_ssh_user"
    ],
    "disk_encryption": "disabled"
}' https://api.linode.com/v4/linode/instances
```

### Linode CLI

```bash
linode-cli linodes create \
  --image 'linode/ubuntu24.04' \
  --private_ip true \
  --region us-east \
  --stackscript_data '{"user_name": "admin","disable_root":"Yes","token_password":"$TOKEN","subdomain":"www","domain":"example.com","soa_email_address":"admin@example.com","add_ons":"none"}' \
  --stackscript_id [STACKSCRIPT_ID] \
  --type g6-dedicated-2 \
  --label chroma-vector-db \
  --tags chromadb \
  --root_pass '$ROOT_PASSWORD' \
  --authorized_users your_ssh_user \
  --disk_encryption disabled
```

## Resources

- [ChromaDB Official Documentation](https://docs.trychroma.com/docs/overview/introduction)
- [Marketplace App Documentation](https://www.linode.com/docs/marketplace-docs/guides/chroma/)